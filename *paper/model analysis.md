# Model Analysis #

In this section, we analyze our 16 models in terms of generative fidelity, by calculating our different predictive fidelity or model selection statistics, and by generating relative risk predictions.  In each case, we argue that there is significant ambiguity or incommensurability.  

## Generative Fidelity ##

In terms of generative fidelity, it is highly plausible that the Cox proportional hazard models are the most faithful to the data-generating process.  Among the generalized regression models, linear regression represents binary mortality status as an unbounded, continuous variable; and Poisson regression represents mortality status as a count variable, with no upper bound.  While the logistic regression models are more faithful to the binary mortality status response variable, our dataset also has censoring.  As discussed above, censoring can introduce bias into generalized linear models, but survival models such as the Cox model are designed to account for censoring.  

Because none our models include interactions, the covariates are represented as independent contributors to all-cause mortality.  It is at least reasonable to think that this assumption is suspect, and thus that all of our models share this limitations on their generative fidelity.  On the other hand, from a model selection perspective, this point does not help us choose between the available models.  

Generative fidelity is much less clear between the different covariate specifications.  Simply put, without an independent, mechanistic understanding of how BMI might relate to mortality in general, it is difficult to say which covariate specification best represents that relationship statistically.  It is at least highly plausible that discrete BMI is the least generatively faithful — both the number of bins and the thresholds between them appear to be arbitrary.  And because it requires a linear or uniform effect, it is also plausible that continuous BMI has low generative fidelity.  This suggests that, among the four available options, the square and spline specifications may have the highest generative fidelity.  But square specifications also seem arbitrary — why think that mortality varies with the square of BMI, but not the cube or the square root or other power?  And splines are at once both highly complex and highly simple.  On the one hand, they are highly complex, in that specifying splines requires specifying the number and location of knot points and the polynomial degree.  It is plausible that it would be extremely difficult to get good empirical estimates of the correct values for these parameters.  On the other hand, splines are highly simple, in that they are piecewise polynomials.  While polynomials are good at approximating other functions[^dense], and extremely convenient for human- and machine-accessible representations, they have a number of unusual properties as functions, and in this sense are "simple."  Why should we think that the true relationship between BMI and all-cause mortality can be expressed using this kind of "simple" function?  This question points us towards the deep debate over the role of simplicity in scientific reasoning *[cites].  

[^dense]: The Weierstrass approximation theorem states that polynomials are dense in the space of continuous functions on a closed real interval $[a,b]$.  


## Predictive Fidelity ##

In line with our discussion in *[xref], all of the models produce continuous-valued predictions $\hat y$, and calculating accuracy, precision, recall, and $F_1$ requires setting a discrimination threshold to map these predictions into the set $\{alive, dead\}$.  For each model, we set the threshold so that the total number of predicted deaths is equal to the total number of observed deaths in the sample:  $\sum_i \hat y_i = \sum_i y_i$.  In what follows we use this threshold for accuracy, precision, recall, and $F_1$.  AIC and AUROC do not require choosing this threshold — but, as noted above, AIC cannot be used to compare the Cox models with the generalized linear models, and we are not certainty whether it can be used to compare across model specifications at all.  

Figure 1 shows the values of each model selection statistic for all 16 models.  In each panel of this plot except AIC, points located higher on the y-axis correspond to better scores.  The x-axis in this plot corresponds to dataset; since only the censored dataset was used (and the cohort-based dataset was not used), this axis can be ignored.  *[In the online supplement, Table S1 gives numerical values from this plot in a sortable list.]  

![Figure 1. Predictive fidelity statistics for all 16 models.  In each panel except AIC, higher values indicate greater predictive fidelity.  The x-axis in each panel corresponds to the dataset; since only the censored dataset was used here, this axis can be ignored.](01_pred_fit.png)  

By every metric, the Cox models perform much worse than any of the generalized linear models.  For AUROC, the other three specifications perform roughly equally well.  For the thresholded accuracy statistics, both covariate specification and model specification seem to make a difference:  logistic and Poisson models with continuous BMI seem to do the best overall, but linear models with continuous BMI generally do worse than spline models.  This might be due to flexibility — splines allow non-linear relationships between BMI and mortality — but linear spline models seem to perform better than logistic and Poisson spline models.  

AIC should be interpreted with care.  For the generalized regression models, the response variable is whether or not the survey respondent died.  On the other hand, for the Cox models, the response is the amount of time the respondent survived until either dying, being lost to followup, or aging out of the study.  So it is presumably illegitimate to compare the AIC of the Cox model to the AIC of the other three model specifications.  AICs for those other specifications are probably be comparable — but we are not certain about this, so there is broad evaluative uncertainty about the use of AICs for model selection here.  

Setting side the Cox model, the distribution of AICs contrast sharply with those of the other statistics.  Variable seems to matter little or not at all; the plot gives the impression that the AIC values are the same for a given specification, though *[Table S1] indicates small differences.  Specifically, linear models appear to be uniformly better the other specifications according to AIC; and yet for many covariate specifications linear models often have worse accuracy on the testing set than Poisson and logistic models.  

All together, these statistics profoundly underdetermine model selection.  AIC favors linear models and is basically undecided between different covariate specifications; AUROC slightly favors binned BMI, slightly disfavors continuous BMI, and is undecided between different model specifications; and the other accuracy statistics consistently support logistic and Poisson models with continuous BMI, and generally disfavor binned BMI.  In addition, there is evaluative uncertainty about both AIC (because it is not clear whether it can be used to compare different generalized linear models) and AUROC (because there was no way for us to include sampling weights), and computational uncertainty about the other accuracy statistics.  About all we can say with confidence is that the Cox models have poor predictive accuracy.  



## Relative Risk Predictions ##

Figures 2 and 3 each show relative risk predictions for all 16 models across a range of BMI values, with all other covariates held fixed.  These plots thus show the statistical effect of changes in BMI, according to the various models.  Risk is measured relative to a baseline BMI of 22; that is, the risk for BMI = 22 is stipulated to be 1.0; relative risk values less than 1 indicate deceased risk relative to BMI = 22, while values greater than 1 indicate increased risk.  

![Figure 2. Relative risk predictions for all 16 models.  All covariates other than BMI are held fixed.  Predictions are grouped by covariate specifications. Ribbons give 95% confidence intervals.  All predictions are the same as in figure 3.](02_rr_preds.png)

![Figure 3. Relative risk predictions for all 16 models.  All covariates other than BMI are held fixed.  Predictions are grouped by model specifications.  Ribbons give 95% confidence intervals.  All predictions are the same as in figure 2.](03_rr_preds.png)


All 16 sets of predictions are given in both figure 2 and figure 3; these predictions are grouped differently to aid interpretation.  In figure 2, predictions are grouped by covariate specification, allowing us to compare across model specifications; while predictions in figure 3 are grouped by model specification, allowing us to compare across covariate specifications.  

Figure 2 indicates that the Cox model consistently generates predictions of greater risk than the other specifications, especially for BMI values greater than 25.  Recall that the lower bound for overweight is 25.  Thus, the region for which the Cox model indicates greater risk (relative to the other model specifications) is the region for overweight and obesity.  The other three model specifications agree with each other quite closely across the whole range of plotted BMI values.  

Furthermore, the other three model specifications generally find evidence of an "obesity paradox."  For non-linear covariate specifications (i.e., binned, square, and spline BMI), the point estimates are below 1 from about 25 until 35 or greater.  There is no indication of the "obesity paradox" with continuous BMI; but since the "obesity paradox" is a non-linear trend, a continuous model cannot show it.  

However, the patterns discussed in the last two paragraphs could be due to bias.  Recall that only Cox models are designed to account for censored data.  At this point, the discussions of the last two sections lead to a major interpretive dilemma.  On the one hand, generative fidelity considerations strongly favor the Cox proportional hazards model.  On the other hand, predictive fidelity considerations strongly favor the generalized linear models, especially the logistic and Poisson regressions.  Insofar as these mortality predictions are interpreted as estimates of the true population risk ratios, then we should rely on the Cox models, and conclude that overweight individuals are at increased risk and that there is no "obesity paradox."  And insofar as these same mortality predictions are interpreted as instrumentalist predictions of risk ratios, then we should rely on the generalized linear models, and conclude that increased risk only appears at BMI 35 or greater and that there is a significant "obesity paradox."  *The two kinds of fidelity criteria, applied to the same set of relative risk predictions, indicate exactly opposite conclusions.* 

Finally, comparing figure 2 and figure 3, we note that covariate specification seems to matter much more than model specification.  That is, given a covariate specification, the generalized linear models all tend to agree with each other (figure 2).  But, given a model specification, there is substantial disagreement across the different covariate specifications (figure 3).  We found this somewhat surprising.  Model specification is a frequent topic of discussion among statisticians and in statistical practice — which kind of model is appropriate for the kind of data you're working with?  For example, when one of us presented this paper to an audience of statisticians and statistical practitioners, roughly half of the discussion focused on whether linear and Poisson models should be included at all, because they are "obviously" inappropriate for binary response data.  There was no discussion at all of whether binning or splines might be more appropriate than continuous BMI.  And yet, in this case, linear and Poisson models produce output very similar to logistic regression, while the specification of BMI makes a dramatic difference to the model output.  The choice between logistic and linear regression matters much less than the choice between continuous and spline BMI.  

